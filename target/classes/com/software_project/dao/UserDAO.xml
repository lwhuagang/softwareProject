<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.software_project.dao.UserDAO">
    <update id="updateUserBHT" parameterType="com.software_project.pojo.User">
        update soft.user set buyMoney = #{buyMoney}, holdProfit = #{holdProfit}, totalProfit = #{totalProfit}, dayprofit = #{dayProfit}
        where  email = #{email}
    </update>
    <update id="updateUser">
        update soft.user set email = #{email},password = #{password},nickname = #{nickname}
        ,money = #{money},picUrl=#{picUrl},admin = #{admin},holdProfit = #{holdProfit},totalProfit=#{totalProfit}
        ,buyMoney = #{buyMoney},initMoney = #{initMoney},dayProfit = #{dayProfit},holdCost = #{holdCost}
        where email = #{email}
    </update>
    <update id="updateUserMoney">
        update soft.user set money = money + #{money} where email = #{email}
    </update>
    <delete id="deleteUser">
        delete from user where email=#{email}
    </delete>
    <!--根据邮箱找到user-->
    <select id="findUserByEmail" parameterType="string" resultType="com.software_project.pojo.User">
        select * from soft.user where email = #{email}
    </select>
    <select id="getAllUsers" resultType="com.software_project.pojo.User">
        select * from soft.user
    </select>

    <!--向用户表中插入新用户-->
    <insert id="insertUser" parameterType="com.software_project.pojo.User">
        insert into soft.user values (#{email},#{password},#{nickname},#{money},#{picUrl},#{admin},#{holdProfit},#{totalProfit},#{buyMoney},#{initMoney},#{dayProfit},#{holdCost})
    </insert>

</mapper>